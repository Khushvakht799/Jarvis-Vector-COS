<!-- launcher-gui/src/index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Jarvis Launcher</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #1a1a1a; color: white; }
        .service { background: #2a2a2a; padding: 15px; margin: 10px; border-radius: 8px; }
        .status-running { color: #4CAF50; }
        .status-stopped { color: #f44336; }
        button { padding: 10px 20px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; }
        .start-btn { background: #4CAF50; color: white; }
        .stop-btn { background: #f44336; color: white; }
        .logs { background: black; padding: 10px; height: 200px; overflow-y: scroll; font-family: monospace; }
    </style>
</head>
<body>
    <h1>üöÄ Jarvis Cognitive OS Launcher</h1>
    
    <div class="controls">
        <button onclick="startAll()" class="start-btn">‚ñ∂Ô∏è Start All Services</button>
        <button onclick="stopAll()" class="stop-btn">‚èπÔ∏è Stop All</button>
    </div>

    <div id="services"></div>
    
    <h3>Live Logs</h3>
    <div id="logs" class="logs"></div>

    <script>
        const { ipcRenderer } = require('electron');
        
        function updateServiceStatus(service, status) {
            const element = document.getElementById(`service-${service}`);
            if (element) {
                element.querySelector('.status').textContent = status;
                element.querySelector('.status').className = `status status-${status}`;
            }
        }

        function addLog(service, message) {
            const logs = document.getElementById('logs');
            logs.innerHTML += `<div><b>[${service}]</b> ${message}</div>`;
            logs.scrollTop = logs.scrollHeight;
        }

        // IPC listeners
        ipcRenderer.on('service-status', (event, data) => {
            updateServiceStatus(data.service, data.status);
        });

        ipcRenderer.on('service-log', (event, data) => {
            addLog(data.service, data.message);
        });

        ipcRenderer.on('service-error', (event, data) => {
            addLog(data.service, `<span style="color: red">ERROR: ${data.message}</span>`);
        });

        // Control functions
        function startService(service) {
            ipcRenderer.invoke('start-service', service);
        }

        function stopService(service) {
            ipcRenderer.invoke('stop-service', service);
        }

        function startAll() {
            ipcRenderer.invoke('start-all');
        }

        function stopAll() {
            ipcRenderer.invoke('stop-all');
        }

        // Initialize UI
        const services = [
            { name: 'python-brain', title: 'Python Brain', port: 8000 },
            { name: 'go-service', title: 'Go Service', port: 8081 },
            { name: 'node-api', title: 'Node.js API', port: 3001 }
        ];

        const servicesHTML = services.map(service => `
            <div class="service" id="service-${service.name}">
                <h3>${service.title} (Port: ${service.port})</h3>
                <p>Status: <span class="status status-stopped">stopped</span></p>
                <button onclick="startService('${service.name}')" class="start-btn">Start</button>
                <button onclick="stopService('${service.name}')" class="stop-btn">Stop</button>
            </div>
        `).join('');

        document.getElementById('services').innerHTML = servicesHTML;
    </script>
</body>
</html>